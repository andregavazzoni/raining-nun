var RainingNun=RainingNun||{};RainingNun.Game=function(){console.log("Game started...")},RainingNun.Game.prototype={preload:function(){},create:function(){this.speed=3,this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.physics.setBoundsToWorld(),this.game.physics.arcade.gravity.y=100;var s=this.game.add.sprite(0,0,"church");s.width=this.game.width,s.height=this.game.height,this.nunGroup=this.game.add.physicsGroup(),this.priest=this.game.add.sprite(.5*this.game.width,this.game.height-120,"priest"),this.game.physics.enable(this.priest,Phaser.Physics.ARCADE),this.priest.body.collideWorldBounds=!0,this.priest.scale.setTo(.2,.2),this.priest.body.allowGravity=!1,this.score=0,this.labelScore=this.game.add.text(20,20,"0",{font:"30px Arial",fill:"#000000"}),this.timer=this.game.time.events.loop(1200,this.addNun,this)},update:function(){var s=this.game.input.keyboard;this.game.physics.arcade.overlap(this.priest,this.nunGroup,function(s,e){e.destroy(),this.score+=1,this.labelScore.text=this.score,this.game.physics.arcade.gravity.y=100*this.score},null,this),s.isDown(Phaser.Keyboard.LEFT)&&(this.priest.x-=this.speed),s.isDown(Phaser.Keyboard.RIGHT)&&(this.priest.x+=this.speed)},endGame:function(){var s=prompt("Informe seu nome");$.post({url:"/save-score",data:{score:this.score,name:s}}),this.game.state.start("MainMenu")},addNun:function(){var s=this.game.rnd.between(0,220),e=this.game.add.sprite(s,-20,"nun");this.nunGroup.add(e),this.game.physics.arcade.enable(e),e.checkWorldBounds=!0,e.outOfBoundsKill=!0,e.body.velocity.y=100,e.scale.setTo(.15,.15),e.events.onOutOfBounds.add(this.endGame,this)}};